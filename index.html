	<!DOCTYPE html>
	<html lang="en">
	<!-- Metadata -->
	<head>
		<meta charset="utf-8">

		<!-- Title -->
		<title>Project Team 10: Buses, DS 4200 F19</title>

		<!-- CSS Styling -->
		<link rel="stylesheet" href="style.css">

		<!-- Favicons -->
		<link rel="apple-touch-icon" sizes="180x180"
		href="/favicons/apple-touch-icon.png">
		<link rel="icon" type="image/png" sizes="32x32"
		href="/favicons/favicon-32x32.png">
		<link rel="icon" type="image/png" sizes="16x16"
		href="/favicons/favicon-16x16.png">
		<link rel="manifest" href="/favicons/site.webmanifest">
		<link rel="shortcut icon" href="/favicons/favicon.ico">
		<meta name="msapplication-TileColor" content="#da532c">
		<meta name="msapplication-config" content="/favicons/browserconfig.xml">
		<meta name="theme-color" content="#ffffff">
	</head>

	<!-- Main page content -->
	<body>
		<!-- Update this with your GitHub repo URL -->
		<span id="forkongithub">
			<a
			href="https://github.com/Northeastern-DS-4200-F19/project-team-10-buses">
		Fork me on GitHub</a>
	</span>

	<!-- Your writeup goes here -->
	<div class = "content-column">

		<h1>Project Team 10: Buses, DS 4200 F19</h1>

		<p><strong>Katrina Beske</strong>, <strong>Remy LeWinter</strong>,
			<strong>Jinhong Huo</strong></p>

			<p>Service-Learning Course Project as part of
				<a href="http://www.ccs.neu.edu/home/cody/courses/ds4200-f19/">
				DS 4200: Information Presentation and Visualization</a>, taught by
				<a href="https://cody.khoury.northeastern.edu/">Prof. Cody Dunne</a>,
				<a href="https://visualization.khoury.northeastern.edu/">
				Data Visualization @ Khoury</a>,
				<a href="https://www.khoury.northeastern.edu/">
				Northeastern University</a>.
			</p>


			<h1>Motivation</h1>

			<p>
				Chester Square is a small neighborhood in Boston's South End.
				When the neighborhood was first built in the 19th century, the rowhouses
				lined a quiet unpaved street surrounding a large green park. Through the
				20th century, city projects repeatedly rebuilt the park until only two
				thin strips remained and the now several-lane Massachusetts Avenue lay
				between them. Today, the Chester Square Neighborhood Association is
				exploring long-term strategies for restoring their park. Massachusetts
				Ave is an important route for commuters and commerce. Before
				restoration can become a serious consideration, policy and infrastructure
				must provide reliable and accessible transit alternatives to automobiles.
				The resulting decrease in road traffic would make it possible to rebuild
				Chester Square with one large park in the middle reuniting the two sides.

				Which form of public transit would most effectively reduce road traffic?
				If states with the highest proportion of commuters taking public transit
				have similar makeups of public transit ridership, our visualization can
				highlight the relationship. While a certain transit mode may stand out
				as the best method for reducing road traffic in general, Massachusetts
				Ave will remain an important route for vehicles. Maximizing the efficiency
				of these vehicles is necessary to sufficiently reduce road traffic.
				Though trams can eliminate some vehicles from a popular route, buses are
				much more versatile. The Chester Square Neighborhood Association supports
				Boston's Bus Rapid Transit (BRT) initiative, which is unfortunately far
				behind schedule. The BRT would update and expand Boston's fleet of buses
				and create bus lanes with exclusive right-of-way, allowing frequent,
				reliable, and speedy transit. Use our visualization to explore the data
				and discover patterns among state's transit riderships and the availability
				of bus lanes with exclusive and restricted rights-of-way. Compare selections
				of states between three datasets, and see where Boston fits in.

				The	overview of Chester Square shows current residents' experiences
				with commuting in personal vehicles and via public transit. We hope that
				our visualizations will help people allocate their support for public
				transit projects by considering	the needs of residents and the national
				trends in transit and commuting.
			</p>
		</p>

		<h1>Visualization</h1>

	</div>

	<!-- Your visualization here -->
	<div class="vis-holder">
	      <!-- Change viewbox to whatever you want, e.g. "0 0 1000 6000"
	      	This determines your aspect ratio and coordinate system -->
	      <!-- Delete all the sample SVG code below after the viewbox to before the
	      	closing tag. Populate this part of the SVG with D3. -->
	      	<svg id="vis-svg"
	      	preserveAspectRatio="xMidYMid meet" class="marks" viewBox="0 0 1500 650"
	      	version="1.1" xmlns="http://www.w3.org/2000/svg"
	      	xmlns:xlink="http://www.w3.org/1999/xlink">

	      	<!-- Dont delete the closing tag! -->
	      </svg>
	      <!-- <svg id="vis-svg-2"
	        preserveAspectRatio="xMidYMid meet" class="marks" viewBox="0 0 1000 900"
	        version="1.1" xmlns="http://www.w3.org/2000/svg"
	        xmlns:xlink="http://www.w3.org/1999/xlink">
	    </svg> -->
  </div>
  <div class="chart-holder" id="ch">
    <img class="chart" id="chart0" src="images/graphs/bus_use.png"/>
    <img class="chart" id="chart1" src="images/graphs/T_use.png"/>
    <img class="chart" id="chart2" src="images/graphs/vehicle_use.png"/>
    <img class="chart" id="chart3" src="images/graphs/rideshare_use.png"/>
    <img class="chart" id="chart4" src="images/graphs/traffic_quality.png"/>

    <img class="popup" id="popup0" src="images/graphs/bus_use.png"/>
    <img class="popup" id="popup1" src="images/graphs/T_use.png"/>
    <img class="popup" id="popup2" src="images/graphs/vehicle_use.png"/>
    <img class="popup" id="popup3" src="images/graphs/rideshare_use.png"/>
    <img class="popup" id="popup4" src="images/graphs/traffic_quality.png"/>
  </div>

	<!-- Your writeup goes here -->
	<div class = "content-column">

		<h1>Demo Video</h1>

		<p>
			<em>Embedded MP4 demo video using the HTML5 &lt;video&gt; tag.
				For example, this screen recording Prof. Cody Dunne made of Mike
			Bostock's flexible transitions in D3 slide:</em>
		</p>

		<video controls width="100%">
			<source src="http://www.ccs.neu.edu/home/cody/courses/shared/d3-flexible-transitions.mp4" type="video/mp4">
				<p>
					Your browser doesn't support HTML5 video. Here is a
					<a href="http://www.ccs.neu.edu/home/cody/courses/shared/d3-flexible-transitions.mp4">
					link to the video</a>
					instead.
				</p>
			</video>

			<h1>Visualization explanation</h1>

			<p>
				<em>final visualization screenshots (PNG images), design justifications,
					UI walk-through, and linked presentation slides.
				</em>
			</p>

			<h1>Data Analysis</h1>
			<p><em>Summary of data, data types, and data preprocessing.</em></p>
			<p>
				We collected three datasets from the USDT Bureau of Transportation
				Statistics and one dataset from a survey of Chester Square residents.
				The following descriptions match the data used for our visualization.
				Original datasets may have included aggregates or other fields which
				were not relevant to our investigation. Any data encoded as a number
				of thousands or other unusual scale was transformed to normal decimal
				numbers.
				<dl>
					<dt>Survey Data</dt>
					<dd>2019 transit and vehicle usage and quality of experience for the
					Chester Square neighborhood.</dd>
					<dd>We distributed a Google Forms survey to residents of Chester
						Square via the Chester Square Neighborhood Association and received
						twenty responses. The data for buses and trains contains frequency of
						use, opinion on whether the number of stops and frequency of services
						are sufficient, and opinion on crowding. Data for vehicles contains
						the number of vehicles owned, use frequency, and opinion on traffic
					quality.</dd>
					<dd>This dataset displays in the Chester Square Overview bar.</dd>

					<dt>Commute Types</dt>
					<dd>2013 work commute types by state.</dd>
					<dd>This dataset provides the number of workers for each state along
						with a breakdown of workers' transportation methods by percent. Modes
						of transportation are encoded as driving alone, carpooling, using
					public transit, walking, taking other means, or working at home.</dd>
					<dd>This dataset is selectable in the dropdown data selection menus
					and	displays on the parallel coordinates chart and choropleth.</dd>
					<dd>Accessed at: <a href="https://www.bts.gov/content/commuting-work">
					bts.gov</a></dd>
					<dd>Notes from source: Data for workers age 16 years and over, based
					on state of residence.</dd>

					<dt>Urban Transit Ridership</dt>
					<dd>2013 urban transit ridership by state and transit mode.</dd>
					<dd>This dataset contains the number of unlinked passenger trips per
						state along with a percentage breakdown of ridership for each cagegory
						of transit - bus, heavy rail, light rail, commuter rail, and other.
						Unlinked passenger trips are defined as a trip on urban	transit which
						has beginning and end but which is not linked to a person. Counts of
						unique passengers are not derivable from this data,	and transit rides
						with multiple legs may be recorded as multiple trips. The notes below
					from the data source explain the categories of transit.</dd>
					<dd>This dataset is selectable in the dropdown data selection menus
					and	displays on the parallel coordinates chart and choropleth.</dd>
					<dd>Accessed at: <a href="https://www.bts.gov/content/urban-transit-ridership-state-and-transit-mode">
					bts.gov</a></dd>
					<dd>Notes from source: This table includes data from urban transit
						agencies that are required to report information to the federal
						government because they applied for or are direct beneficiaries of
						urbanized area formula grants (49 USC 5307). Beginning in 2012, data
						include estimated industry totals for agencies with a Small Systems
						Waiver in place and Rural reporters. Data are assigned to the state
						of a transit agency's mailing address.  Details may not add to
						totals due to rounding. Light rail includes light rail, street car,
						and hybrid rail modes. Motorbus includes motorbus, commuter bus, and
						bus rapid transit. Other includes automated guideway, cable car,
						demand response, ferry boat, inclined plane, monorail, trolley bus,
					and van pool.</dd>

					<dt>Motor Bus Transit Route Milage</dt>
					<dd>2013 motor bus transit route mileage by state, for different
					rights-of-way.</dd>
					<dd>This dataset contains the number of directional route-miles for
						buses in each states, broken down into three different rights-of-way.
						The notes below from the data source explain the different
					rights-of-way and define directional route-miles.</dd>
					<dd>This dataset is selectable in the dropdown data selection menus
					and	displays on the parallel coordinates chart and choropleth.</dd>
					<dd>Accessed at: <a href="https://www.bts.gov/content/motor-bus-transit-route-mileage">
					bts.gov</a></dd>
					<dd>Notes from source: Motor bus includes commuter bus, bus, bus rapid
						transit, and trolleybus. Directional route-miles is the mileage in
						each direction over which public transportation vehicles travel while
						in revenue service.  Directional route-miles are a measure of the
						facility or roadway, not the service carried on the facility, such as
						the number of routes or vehicle-miles.  Directional route-miles are
						computed with regard to direction of service, but without regard to
						the number of traffic lanes or rail tracks existing in the
						right-of-way. Exclusive right-of-way refers to lanes reserved at all
						times for transit use and other high occupancy vehicles (HOVs).
						Controlled right-of-way refers to lanes restricted for at least a
						portion of the day for use by transit vehicles and other HOVs. Mixed
						right-of-way refers to lanes used for general automobile traffic.
						Route-miles are assigned to the state of the transit agency's
					headquarters.</dd>
				</dl>
			</p>

			<h1>Task Analysis</h1>
			<th>Task Table</th>
			<table style="width:100%">
				<tr>
					<th>Domain Task</th>
					<th>Query</th>
					<th>Search</th>
					<th>Analyze</th>
				</tr>
				<tr>
					<td>How do Chester Square residents use public transit (bus and T) and
					private vehicles, and is their experience positive or negative?</td>
					<td>Summarize</td>
					<td>Lookup</td>
					<td>Present</td>
				</tr>
				<tr>
					<td>How does Boston's public transportation usage compare to Massachusetts
					overall and to other states?</td>
					<td>Compare</td>
					<td>Lookup</td>
					<td>Present</td>
				</tr>
				<tr>
					<td>Is there any pattern among states in terms of the proportion of
						commuters who use public transit, the proportion of transit ridership
						attributable to buses, and the proportion of directional bus
					route-miles with different rights-of-way?</td>
					<td>Compare</td>
					<td>Local</td>
					<td>Present</td>
				</tr>
			</table>
			<dd>For the first task, we will lookup the results we got from our serveys and
				summarize it. Our goal is to find our how the experience for use of private vehicles
				and public transport is like in ChesterSquare. In the servey, we asked
				the frequency for both methods of traveling, and some satisfaction question
			about public transport. Thus, we can use those data to make analysis and conclude the result.</dd>
			<dd>For the second task, we will analyize the serveys results we got and other
				datasets we got from research, and put it side by side to compare. Although some
				of the data from survey can not be compared directly with other datasets, we can
				still make some good conlusion out of it. Using parallel coordinates can help
				comparing share of public transport usage between states. The goal is to compare
				data from Boston with other region, so that we can conclude the performance of public
			transport in Boston</dd>
			<dd>For the third task, we will local the columns from datasets make visualization
				from them. From the visualizations, we can summerize the pattern and compare between
				states. We will also use parallel coordinates to compare those paterns since the
				parallel coordinates can help tell teh difference easily. The goal is to indentify
			difference between Boston and other states by comparing them.</dd>
			<p>TODO: add discussion / explanation, fill out table.</p>

			<p>
				<em>Expectation: Clearly describes domain tasks, processes, goals and
				abstract tasks for domain problems.</em>
			</p>

			<h1>Design Process</h1>

			<p>
				When considering charts to display our three national datasets, we
				decided on the use of parallel coordinates to allow easy comparisons
				across states and datasets.
			</p>

			<img class="sketch" src="images/sketch_pc.jpg">

			<p>
				A choropleth allows users to see the national distribution of a variable.
				It also provides a convenient place to click and select states to highlight
				in the parallel coordinates charts.
			</p>

			<img class="sketch" src="images/sketch_map.jpg">

			<p>
				A bar with minimized charts at the bottom of the visualization window
				can expand to show data for the Chester Square neighborhood.
			</p>

			<img class="sketch" src="images/sketch_cs.jpg">

			<p>
				In our final interactive sketch, we decided to take on all three
				of the tasks we listed in the preliminary sketch phase.  Our first task,
				showing how Chester Square residents use public transit and private
				vehicles and how that compares to Boston overall, was the most difficult
				to implement, as the data we had for Chester Square doesn’t completely
				match up to the datasets we have from outside sources.  We incorporated
				this task into our design by having a section at the bottom devoted to
				expandable charts and gauges displaying the information we collected
				from the Chester Square residents.  To compare this to Boston overall,
				a user can look at the other charts above the bottom bar.
			</p>

			<img class="sketch" src="images/interactive_focus.jpg">

			<p>
      	Our second and third tasks, comparing Boston’s public transportation
				usage to Massachusetts and Massachusetts to other US states, are both
				accomplished by the same encodings. Public transportation usage
				percentages are compared using a parallel coordinates graph with
				specific lines for Boston and Massachusetts as well as a line
				representing the average for the other 49 states.
			</p>

			<img class="sketch" src="images/interactive_basic.jpg">

			<p>
				Lines for specific other states can be rendered by clicking on that
				state in the heat map. Additionally, clicking on one of the vertical
				axes in the parallel coordinates chart will update the heat map with
				states’ values for that axis variable.
			</p>

			<img class="sketch" src="images/interactive_selection.jpg">

			<!-- TODO: edit text accompanying final interactive sketches
		 						 discussion of changes since final sketches
							 	 feedback from usability testing-->

			<p>
				<em>Sketches and design choices to justify final visualization.</em>
			</p>

			<p><em>Expectation: Evidence of iterative improvement.
				Logical discussion of design choices grounded in theory from course.
			Discusses feedback from usability testing.</em></p>


			<h1>Conclusion</h1>

			<p><em>Short summary of work completed and areas for
			improvement/future-work.</em></p>

			<p><em>Expectation: Meaningfully wraps up project and has good future
			directions.</em></p>


			<h1>Acknowledgements</h1>
			<ul>
				<li><a href="https://d3js.org/">D3: Data-Driven Documents</a>
				by Mike Bostock.</li>
				<li><a href="https://codepo8.github.io/css-fork-on-github-ribbon/#">
				Pure CSS responsive "Fork me on GitHub" ribbon</a>
			by Chris Heilmann</li>
			<li>
				<a href="https://www.d3-graph-gallery.com/graph/parallel_basic.html">Parallel Coordinates</a>
				by Yan Holtz from
				<a href="https://www.d3-graph-gallery.com/index.html">D3 Graph Gallery</a>
			</li>
			<li><a href="https://bl.ocks.org/chucklam/f628765b873d707a3d0e44ffc78deab8">
			US States Choropleth</a>
		by Chuck Lam</li>
		<li><a href="https://github.com/topojson/topojson">
		TopoJSON</a> Library by Mike Bostock</li>
		<li><a href="https://github.com/d3/d3-scale-chromatic">
    D3 Scale Chromatic</a> Library by Mike Bostock</li>
    <li><a href="https://jsfiddle.net/e8kq7bdp/1/">
      JSFiddle</a> by Marcelo</li>
	</ul>

</div>

	    <!-- Scripts at the end avoid need for dealing with async, defer, or onload
	    	event handlers -->
	    	<script src="https://d3js.org/d3.v4.js"></script>
	    	<script src="https://d3js.org/topojson.v2.min.js"></script>
	    	<script src="https://d3js.org/d3-scale-chromatic.v1.min.js"></script>
	    	<script src="visualization.js"></script>
	    	<script>
          function zoomChart(id) {
            let e = document.getElementById(`chart${id}`);
            e.onmouseover = function() {
              document.getElementById(`popup${id}`).style.display = "block";
            }
            e.onmouseout = function() {
              var elem = document.getElementById(`popup${id}`);
              elem.style.display = "none";
            }
          }
          zoomChart(0);
          zoomChart(1);
          zoomChart(2);
          zoomChart(3);
          zoomChart(4);
        </script>
	    </body>
	    </html>
